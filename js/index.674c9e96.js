import{j as n,_ as d,U as w,y as x,r as b,u as N,a as E,R,L as C,l as L,c as S}from"./vendor.7d98be29.js";import{a as k,m as T}from"./data.95f91178.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(s){if(s.ep)return;s.ep=!0;const u=e(s);fetch(s.href,u)}})();function B({value:r,status:o}){return n.jsx("button",{"aria-label":`Letter ${r}`,type:"button",className:o+" select-none w-13 h-13 md:w-14 md:h-14 text-2xl md:text-4xl font-extrabold font-mono",children:r})}const i={BLANK:"border-2 border-gray-400",ABSENT:"bg-stone-300",PRESENT:"bg-amber-300",CORRECT:"bg-emerald-300"};function O({letters:r,index:o}){const e=r.map((t,s)=>n.jsx(B,{status:t.status,value:d.toUpper(t.value)},s));return n.jsx("div",{className:"flex gap-2 md:gap-3 lg:gap-4","aria-label":`Row ${o+1}`,children:e})}function A({rows:r}){const o=r.map((e,t)=>n.jsx(O,{letters:e,index:t},t));return n.jsx("div",{className:"flex flex-col gap-2 md:gap-3 lg:gap-4",children:o})}function K({rowsDispatch:r,status:o,disabled:e=!1}){function t(s){switch(s.value){case"Enter":return"â†µ";case"Backspace":return"âŒ«";default:return d.toUpper(s.value)}}return n.jsx("div",{className:"mt-6 flex flex-col gap-4",children:P(o).map((s,u)=>n.jsx("div",{className:"flex gap-1 sm:gap-2 md:gap-4 justify-around sm:justify-center",children:s.map((a,m)=>n.jsxs("button",{type:"button",onClick:()=>r(a.action),disabled:e,className:a.status+" h-9 md:h-11 rounded-sm cursor-pointer text-sm sm:text-base md:text-xl flex items-center justify-center",children:[t(a),e||n.jsx(w,{filter:a.value,fn:()=>r(a.action)})]},`${u}-${m}`))},u))})}function P(r){const o=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["z","x","c","v","b","n","m"]].map(e=>e.map(t=>({value:t,status:(r[t]||"bg-gray-200 text-gray-500 border-gray-300")+" w-8 sm:w-9 md:w-10 lg:w-11",action:{type:"addLetter",letter:t}})));return o[2].unshift({value:"Enter",status:"bg-green-400 px-2 md:px-3",action:{type:"submitRow"}}),o[2].push({value:"Backspace",status:"bg-red-400 px-1 md:px-2 lg:px-3",action:{type:"deleteLetter"}}),o}const f=r=>1+r.findLastIndex(o=>o.every(e=>e.status!==i.BLANK));function W(r){return(o,e)=>U(o,{...e,solution:r})}function U(r,o){switch(o.type){case"addLetter":{const e=d.cloneDeep(r);for(let t=0;t<=f(r);t++)for(let s=0;s<e[t].length;s++)if(e[t][s].value==="")return e[t][s].value=o.letter,e;return e}case"submitRow":{const e=d.cloneDeep(r),t=e[f(r)].map(s=>s.value).join("");return t.length!==5?(x("Word must be 5 letters long"),e):$(t)?(e[f(r)]=G(e[f(r)],o.solution),e):(x("Not a valid word"),e)}case"deleteLetter":{const e=d.cloneDeep(r),t=f(r);for(let s=e[t].length-1;s>=0;s--)if(e[t][s].value!=="")return e[t][s].value="",e;return e}case"reset":return d.times(6,()=>d.times(5,()=>({value:"",status:i.BLANK})));case"giveUp":return r.map(e=>e.map(t=>({...t,status:t.status===i.BLANK?i.ABSENT:t.status})));default:return r}}function $(r){return k.split(`
`).includes(r)}function G(r,o){const e=o.split(""),t={};return e.forEach(a=>{t[a]=(t[a]||0)+1}),r.map((a,m)=>a.value===e[m]?(t[a.value]--,{...a,status:i.CORRECT}):{...a,status:null}).map(a=>{if(a.status===i.CORRECT)return a;const m=a.value;return t[m]>0&&e.includes(m)?(t[m]--,{...a,status:i.PRESENT}):{...a,status:i.ABSENT}})}function H(){const[r,o]=b.useState(m),[e,t]=b.useReducer(W(r),d.times(6,()=>d.times(5,()=>({value:"",status:i.BLANK})))),[,s]=N(),{windowWidth:u,windowHeight:a}=E();function m(){const l=d.sample(T.split(`
`));return console.log(`New solution: ${l}`),l}function y(){return e.some(l=>l.every(c=>c.status!==i.BLANK))}function g(){return e.some(l=>l.every(c=>c.status===i.CORRECT))}function h(){return g()||e.every(l=>l.every(c=>c.status!==i.BLANK))}function v(){const l={};return d.dropRightWhile(e,c=>c.some(p=>p.status===i.BLANK)).flat().forEach(c=>{if(c.value){if(l[c.value]===i.CORRECT||l[c.value]===i.PRESENT&&c.status!==i.CORRECT)return;l[c.value]=c.status}}),l}function j(l){return l.map(c=>c.map(p=>{if(!p.value)return"â¬œ";switch(p.status){case i.CORRECT:return"ðŸŸ©";case i.PRESENT:return"ðŸŸ¨";case i.ABSENT:return"â¬›";default:return"â¬›"}}).join("")).join(`
`)}return h()&&x(g()?"You won!":"You lost!"),n.jsxs("div",{className:"flex flex-col items-center md:justify-center min-h-screen bg-gray-100",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Wordle Clone"}),h()?n.jsxs("div",{className:"mb-4 flex flex-col items-center",children:[n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx("button",{type:"button",className:"inline-block rounded-sm border border-indigo-500 transition cursor-pointer bg-indigo-500 mb-2 px-5 py-2 text-md font-medium text-white hover:bg-transparent hover:text-indigo-500 focus:ring-3 focus:outline-hidden",onClick:()=>{o(m()),t({type:"reset"})},children:"New Game"}),n.jsx("button",{type:"button",className:"inline-block rounded-sm border border-fuchsia-500 transition cursor-pointer bg-fuchsia-500 mb-2 px-5 py-2 text-md font-medium text-white hover:bg-transparent hover:text-fuchsia-500 focus:ring-3 focus:outline-hidden",onClick:()=>{s(j(e)),x("Copied to clipboard!")},children:"Copy Emoji"})]}),n.jsxs("p",{className:"text-lg",children:["The solution was:",n.jsx("a",{href:`https://dictionary.cambridge.org/dictionary/english/${r}`,className:"ml-1 underline text-blue-500 hover:text-blue-700",target:"_blank",children:r})]})]}):n.jsxs("div",{className:"mb-4 flex flex-col items-center",children:[n.jsx("button",{type:"button",className:"inline-block rounded-sm border transition  mb-2 px-5 py-2 text-md font-medium hover:bg-transparent  focus:ring-3 focus:outline-hidden "+(y()?"bg-indigo-500 text-white border-indigo-500 hover:text-indigo-500 cursor-pointer":"bg-gray-300 text-gray-500 border-gray-300 cursor-not-allowed"),onClick:()=>t({type:"giveUp"}),disabled:!y(),children:"Give Up"}),n.jsx("p",{className:"text-lg",children:"See if you can guess the word!"})]}),g()&&n.jsx(R,{width:u,height:a,recycle:!1,numberOfPieces:500,gravity:.3}),n.jsx(A,{rows:e}),n.jsx(K,{rowsDispatch:t,status:v(),disabled:h()})]})}function I(){return n.jsxs(n.Fragment,{children:[n.jsx(H,{}),n.jsx(C,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",transition:L})]})}S.createRoot(document.getElementById("root")).render(n.jsx(b.StrictMode,{children:n.jsx(I,{})}));
